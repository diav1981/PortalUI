"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[9569],{89569:function(e,t,l){l.r(t),l.d(t,{default:function(){return Q}});var a=l(66252),n=l(56612),s=l(58061);const i={class:"input-group"},o=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igMonth"},"Delivery Month",-1),r=["value"],d={class:"input-group"},c=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igDno"},"DNO",-1),u=["value"],h={class:"input-group"},D=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igSettlementRun"},"Settlement Run",-1),f=["value"],p={class:"nav nav-tabs mb-3",role:"tablist"},g={class:"nav-item"},m={class:"nav-item"},y={class:"tab-content text-muted"},v={class:"tab-pane",id:"offtaking",role:"tabpanel"},w={class:"p-3"},_={key:0},b={class:"mt-3 table-hscroll"},k={class:"table table-nowrap table-hover"},T=(0,a._)("th",{scope:"col"},"Date",-1),M={scope:"row"},R={key:1,class:"centered-children-200"},S=(0,a._)("p",null,"No Data Available",-1),L=[S],x={class:"tab-pane active",id:"delivering",role:"tabpanel"},W={class:"p-3"},z={key:0},A={class:"mt-3 table-hscroll"},Z={class:"table table-nowrap table-hover"},C=(0,a._)("th",{scope:"col"},"Date",-1),F={scope:"row"},H={key:1,class:"centered-children-200"},O=(0,a._)("p",null,"No Data Available",-1),Y=[O];function K(e,t,l,S,O,K){const P=(0,a.up)("PageHeader"),V=(0,a.up)("b-link"),I=(0,a.up)("b-col"),U=(0,a.up)("b-row"),E=(0,a.up)("b-card-body"),G=(0,a.up)("b-card"),N=(0,a.up)("Layout");return(0,a.wg)(),(0,a.j4)(N,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,{title:O.title,items:O.items},null,8,["title","items"]),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{class:"p-0"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[o,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igMonth","onUpdate:modelValue":t[0]||(t[0]=e=>O.selectedMonth=e),onChange:t[1]||(t[1]=(...e)=>K.handleDropdownChange&&K.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.deliveryMonths,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.dt,value:e.dt},(0,n.zw)(e.monthYearString),9,r)))),128))],544),[[s.bM,O.selectedMonth]])]),(0,a._)("div",d,[c,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igDno","onUpdate:modelValue":t[2]||(t[2]=e=>O.selectedDno=e),onChange:t[3]||(t[3]=(...e)=>K.handleDropdownChange&&K.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.dnoData,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,n.zw)(e.description),9,u)))),128))],544),[[s.bM,O.selectedDno]])]),(0,a._)("div",h,[D,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igSettlementRun","onUpdate:modelValue":t[4]||(t[4]=e=>O.selectedSettlementRun=e),onChange:t[5]||(t[5]=(...e)=>K.handleDropdownChange&&K.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.settlementRunList,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.settlementRunType,value:e.settlementRunType},(0,n.zw)(e.description),9,f)))),128))],544),[[s.bM,O.selectedSettlementRun]])]),(0,a._)("ul",p,[(0,a._)("li",g,[(0,a.Wm)(V,{class:"nav-link active","data-bs-toggle":"tab",href:"#offtaking",role:"tab","aria-selected":"true"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Offtaking ")])),_:1})]),(0,a._)("li",m,[(0,a.Wm)(V,{class:"nav-link","data-bs-toggle":"tab",href:"#delivering",role:"tab","aria-selected":"false"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Delivering ")])),_:1})])]),(0,a._)("div",y,[(0,a._)("div",v,[(0,a.Wm)(U,{class:"align-items-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{sm:"12"},{default:(0,a.w5)((()=>[(0,a._)("div",w,[K.isOffTakeDataAvailable?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",b,[(0,a._)("table",k,[(0,a._)("thead",null,[(0,a._)("tr",null,[T,((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,(e=>(0,a._)("th",{key:e,scope:"col"},(0,n.zw)(e),1))),64))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.filteredOfftakeTlfData,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.settlementDate},[(0,a._)("th",M,(0,n.zw)(new Date(e.settlementDate).toLocaleDateString("en-GB")),1),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,((t,l)=>(0,a._)("td",{key:l},(0,n.zw)(e["_"+(l+1)]),1))),64))])))),128))])])])])):((0,a.wg)(),(0,a.iD)("div",R,L))])])),_:1}),(0,a.Wm)(I,{sm:"4"})])),_:1})]),(0,a._)("div",x,[(0,a.Wm)(U,{class:"align-items-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{sm:"12"},{default:(0,a.w5)((()=>[(0,a._)("div",W,[K.isDeliveryDataAvailable?((0,a.wg)(),(0,a.iD)("div",z,[(0,a._)("div",A,[(0,a._)("table",Z,[(0,a._)("thead",null,[(0,a._)("tr",null,[C,((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,(e=>(0,a._)("th",{key:e,scope:"col"},(0,n.zw)(e),1))),64))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.filteredDeliveryTlfData,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.settlementDate},[(0,a._)("th",F,(0,n.zw)(new Date(e.settlementDate).toLocaleDateString("en-GB")),1),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,((t,l)=>(0,a._)("td",{key:l},(0,n.zw)(e["_"+(l+1)]),1))),64))])))),128))])])])])):((0,a.wg)(),(0,a.iD)("div",H,Y))])])),_:1}),(0,a.Wm)(I,{sm:"4"})])),_:1})])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var P=l(80701),V=l(39880),I=l(84433),U=l(25471),E=l(46255),G=l(56794),N=l(43703),B=l(4135),$=l(6154),j={page:{title:"Transmission Loss Factors",meta:[{name:"description",content:I.WL}]},data(){return{title:"Transmission Loss Factors",items:[{text:"Industry Flows",href:"/"},{text:"Transmission Loss Factors",active:!0}],deliveryMonths:[],selectedMonth:null,selectedFromDate:null,selectedToDate:null,settlementRunList:null,tlfData:null,filteredOfftakeTlfData:null,filteredDeliveryTlfData:null,dnoData:null,selectedDno:null,selectedSettlementRun:null}},components:{Layout:P.Z,PageHeader:V.Z},computed:{isOffTakeDataAvailable(){return!!this.filteredOfftakeTlfData&&this.filteredOfftakeTlfData.length>0},isDeliveryDataAvailable(){return!!this.filteredDeliveryTlfData&&this.filteredDeliveryTlfData.length>0}},methods:{testMethod(){null!==this.tlfData&&("LA"===this.selectedSettlementRun?this.filteredDeliveryTlfData=this.tlfData.filter((e=>e.dnoId==this.selectedDno&&1===e.isLatestSr&&"Offtaking"===e.deliveryType)):this.filteredOfftakeTlfData=this.tlfData.filter((e=>e.dnoId==this.selectedDno&&e.settlementRun===this.selectedSettlementRun&&"Offtaking"===e.deliveryType)),"LA"===this.selectedSettlementRun?this.filteredDeliveryTlfData=this.tlfData.filter((e=>e.dnoId==this.selectedDno&&1===e.isLatestSr&&"Delivering"===e.deliveryType)):this.filteredDeliveryTlfData=this.tlfData.filter((e=>e.dnoId==this.selectedDno&&e.settlementRun===this.selectedSettlementRun&&"Delivering"===e.deliveryType)))},async fetchTLFData(){const e=`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/tlf/GetTlfPivot/${this.selectedFromDate}/${this.selectedToDate}`;try{const t=await $.Z.get(e);this.tlfData=t.data,console.log(this.tlfData)}catch(t){console.error("Error fetching Tlfs data:",t)}},async fetchDnoData(){const e="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/dno";try{const t=await $.Z.get(e);this.dnoData=t.data}catch(t){console.error("Error fetching Dno data:",t)}},async fetchSettlementRunData(){const e="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/settlementrun/";try{const t=await $.Z.get(e);this.settlementRunList=t.data}catch(t){console.error("Error fetching Settlement Run data:",t)}},generateDeliveryMonthArray(){const e=new Date,t=(0,U.Z)(e,6),l=(0,E.Z)({start:t,end:e}),a=l.map((e=>{const t=(0,G.Z)(e,"MMMM yyyy"),l=(0,N.Z)(e);return{dt:l,monthYearString:t}}));this.deliveryMonths=a.reverse()},async handleDropdownChange(){null!==this.selectedDno&&null!==this.selectedMonth&&null!==this.selectedSettlementRun&&(this.selectedFromDate=(0,G.Z)(this.selectedMonth,"yyyy-MM-dd"),this.selectedToDate=(0,G.Z)((0,B.Z)(this.selectedMonth),"yyyy-MM-dd"),await this.fetchTLFData(),this.testMethod())}},mounted(){this.fetchDnoData(),this.fetchSettlementRunData(),this.generateDeliveryMonthArray()}},q=l(83744);const J=(0,q.Z)(j,[["render",K]]);var Q=J}}]);
//# sourceMappingURL=9569.e63ca18c.js.map