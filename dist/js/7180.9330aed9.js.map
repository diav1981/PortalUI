{"version":3,"file":"js/7180.9330aed9.js","mappings":"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","sources":["webpack://velzon/./src/views/industrypricing/auto/bsuos/index.vue","webpack://velzon/./src/views/industrypricing/auto/bsuos/index.vue?ffc7"],"sourcesContent":["<script>\n\nimport Layout from \"../../../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../../../app.config\";\nimport { format, subYears, eachMonthOfInterval, endOfMonth, startOfMonth } from 'date-fns';\nimport axios from 'axios';\n\n\nexport default {\n  page: {\n    title: \"Balancing Services Use of System (BSUoS)\",\n    meta: [{ name: \"description\", content: appConfig.description }],\n  },\n  data() {\n    return {\n      title: \"Balancing Services Use of System (BSUoS)\",\n      items: [\n        {\n          text: \"Industry Pricing\",\n          href: \"/\",\n        },\n        {\n          text: \"Auto\",\n          href: \"/\",\n        },\n        {\n          text: \"Balancing Services Use of System (BSUoS)\",\n          active: true,\n        },\n      ],\n      deliveryMonths:[],\n      selectedMonthType: null,\n      selectedMonth: null,\n      selectedFromDate: null,\n      selectedToDate: null,\n      settlementRunList: null,\n      selectedSettlementRun: null,\n      bsuosData: null,\n    };\n  },\n  components: {\n    Layout,\n    PageHeader\n  },\n  computed:{\n    hasData() {\n      return !!this.bsuosData && this.bsuosData.length > 0;\n    }, \n  },  \n  methods:{\n    async fetchbsuosData() {\n      console.log('fetching data');\n      var url = ''\n      if(this.selectedSettlementRun == \"LA\")\n      {\n        url = `http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/Bsuos/GetBsuosPivot/Latest/${this.selectedFromDate}/${this.selectedToDate}`;\n      }\n      else\n      {\n        url = `http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/Bsuos/GetBsuosPivot/${this.selectedSettlementRun}/${this.selectedFromDate}/${this.selectedToDate}`;\n      }\n      console.log(url);\n      try {\n        const response = await axios.get(url);\n        this.bsuosData = response.data;\n        console.log(this.bsuosData);\n      } catch (error) {\n        console.error('Error fetching duos data:', error);\n      }\n    },   \n    generateDeliveryMonthArray() {\n      const currentDate = new Date();\n      const sixYearsAgo = subYears(currentDate, 6);\n      const allMonths = eachMonthOfInterval({ start: sixYearsAgo, end: currentDate });\n\n      const result = allMonths.map(month => {\n        const monthYearString = format(month, 'MMMM yyyy');\n        const dt = startOfMonth(month);\n        return { dt, monthYearString };\n      });\n        \n      this.deliveryMonths = result.reverse();\n    },\n    async fetchSettlementRunData() {\n                const url = 'http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/settlementrun/';\n\n                try {\n                    const response = await axios.get(url);\n                    this.settlementRunList = response.data;\n                } catch (error) {\n                    console.error('Error fetching Settlement Run data:', error);\n                }\n    },\n    handleDropdownChange() {\n      if(this.selectedSettlementRun === null || this.selectedMonth === null)\n      {\n        return;\n      }\n\n      this.selectedFromDate = format(this.selectedMonth,'yyyy-MM-dd')\n      this.selectedToDate = format(endOfMonth(this.selectedMonth),'yyyy-MM-dd');\n      this.fetchbsuosData();\n    },    \n  },\n  mounted(){\n    this.fetchSettlementRunData();\n    this.generateDeliveryMonthArray();\n  }\n};\n</script>\n\n\n\n\n<template>\n  <Layout>\n    <PageHeader :title=\"title\" :items=\"items\" />\n    <b-row>\n\n        <b-row>\n          <b-col cols=\"12\">\n            <b-card no-body>\n              <b-card-body class=\"p-0\">\n \n                <div class=\"input-group\">\n                        <label class=\"input-group-text\" style=\"width:150px\" for=\"igMonth\">Delivery Month</label>\n                        <select class=\"form-select\" id=\"igMonth\" v-model=\"selectedMonth\" @change=\"handleDropdownChange\">\n                          <option v-for=\"monthYear in deliveryMonths\" :key=\"monthYear.dt\" :value=\"monthYear.dt\">{{ monthYear.monthYearString }}</option>\n                        </select>\n                      </div>\n\n                      <div class=\"input-group\">\n                        <label class=\"input-group-text\" style=\"width:150px\" for=\"igSettlementRun\">Settlement Run</label>\n                        <select class=\"form-select\" id=\"igSettlementRun\" v-model=\"selectedSettlementRun\" @change=\"handleDropdownChange\">\n                          <option v-for=\"sr in settlementRunList\" :key=\"sr.settlementRunType\" :value=\"sr.settlementRunType\">{{ sr.description }}</option>\n                        </select>\n                      </div>\n\n\n                              <b-row class=\"align-items-end\">\n                                <b-col sm=\"12\">\n                                  <div class=\"p-3\">\n                                    <div v-if=\"hasData\">\n                                      <div class=\"mt-3 table-hscroll\">\n                                        <table class=\"table table-nowrap table-hover\">\n                                            <thead>\n                                                <tr>\n                                                  <th scope=\"col\">Date</th>\n                                                    <!-- Generate columns up to 50 -->\n                                                    <template v-for=\"column in 50\" :key=\"column\">\n                                                      <th scope=\"col\" >{{ column }}</th>\n                                                    </template>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                <!-- Generate rows for each day of the month -->\n                                                <template v-for=\"item in bsuosData\" :key=\"item.settlementDay\">\n                                                  <tr>\n                                                    <th scope=\"row\">\n                                                      {{new Date(item.settlementDay).toLocaleDateString(\"en-GB\")}}\n                                                    </th>\n                                                    <td v-for=\"(value, index) in 50\" :key=\"index\">{{ item['_' + (index + 1)] }}</td>\n                                                  </tr>\n                                                </template>\n                                            </tbody>\n                                          </table>\n                                      </div>\n                                    </div>\n                                    <div v-else class=\"centered-children-200\">\n                                      <p>No Data Available</p>\n                                    </div>   \n                                  </div>                               \n                                </b-col>\n                                <b-col sm=\"4\">\n                                </b-col>\n                              </b-row>\n\n              </b-card-body>\n            </b-card>\n          </b-col>\n        </b-row>\n    </b-row>\n  </Layout>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=26c404f3\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dplant\\\\Downloads\\\\Velzon_v3.0.0\\\\Vue\\\\corporate\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","for","scope","_hoisted_14","_createBlock","_component_Layout","_createVNode","_component_PageHeader","title","$data","items","_component_b_row","_component_b_col","cols","_component_b_card","_component_b_card_body","_hoisted_1","_hoisted_2","id","onChange","$options","_createElementBlock","_Fragment","monthYear","key","dt","value","monthYearString","_hoisted_4","_hoisted_5","sr","settlementRunType","description","sm","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","column","item","settlementDay","_hoisted_12","Date","toLocaleDateString","index","_hoisted_13","page","meta","name","content","appConfig","data","text","href","active","deliveryMonths","selectedMonthType","selectedMonth","selectedFromDate","selectedToDate","settlementRunList","selectedSettlementRun","bsuosData","components","Layout","PageHeader","computed","hasData","this","length","methods","async","console","log","url","response","axios","error","generateDeliveryMonthArray","currentDate","sixYearsAgo","subYears","allMonths","eachMonthOfInterval","start","end","result","map","month","format","startOfMonth","reverse","handleDropdownChange","endOfMonth","fetchbsuosData","mounted","fetchSettlementRunData","__exports__","render"],"sourceRoot":""}