{"version":3,"file":"js/4027.b2840d50.js","mappings":"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","sources":["webpack://velzon/./src/views/dashboard/linelossfactors/index.vue","webpack://velzon/./src/views/dashboard/linelossfactors/index.vue?4bb4"],"sourcesContent":["<script>\n\nimport Layout from \"../../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../../app.config\";\nimport axios from 'axios';\nimport { format, endOfMonth, subYears, eachMonthOfInterval, startOfMonth } from 'date-fns';\n\nexport default {\n  page: {\n    title: \"Line Loss Factors\",\n    meta: [{ name: \"description\", content: appConfig.description }],\n  },\n  data() {\n    return {\n      title: \"Line Loss Factors\",\n      llfData: null,\n      dnoData: null,\n      llfDist: null,\n      availablellfDist: null,\n      deliveryMonths: [],\n      selectedMonth: null,\n      selectedFromDate: null,\n      selectedToDate: null,\n      selectedDno: null,\n      selectedLlf: null,\n      items: [\n        {\n          text: \"Industry Flows\",\n          href: \"/\",\n        },\n        {\n          text: \"Line Loss Factors\",\n          active: true,\n        },\n      ],\n    };\n  },\n  components: {\n    Layout,\n    PageHeader\n  },\n  computed:{\n    areAllDropdownsPopulated() {\n      return !!this.llfData && this.llfData.length > 0;\n    } \n  },\n  methods:{\n    async fetchLlfDistributorCombinationData() {\n      const url = 'http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/Llf/';\n\n      try {\n        const response = await axios.get(url);\n        this.llfDist = response.data;\n        this.availablellfDist = this.llfDist;\n      } catch (error) {\n        console.error('Error fetching LLF Distributor Combination data:', error);\n      }\n    },\n    async fetchLlfData() {\n      const url = `http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/Llf/GetLlfPivot/${this.selectedDno}/${this.selectedLlf}/${this.selectedFromDate}/${this.selectedToDate}`;\n      try {\n        const response = await axios.get(url);\n        this.llfData = response.data;\n      } catch (error) {\n        console.error('Error fetching LLF data:', error);\n      }\n    },\n    async fetchDnoData() {\n      const url = 'http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/dno';\n\n      try {\n        const response = await axios.get(url);\n        this.dnoData = response.data;\n      } catch (error) {\n        console.error('Error fetching Dno data:', error);\n      }\n    },\n    generateDeliveryMonthArray() {\n      const currentDate = new Date();\n      const sixYearsAgo = subYears(currentDate, 6);\n      const allMonths = eachMonthOfInterval({ start: sixYearsAgo, end: currentDate });\n\n      const result = allMonths.map(month => {\n        const monthYearString = format(month, 'MMMM yyyy');\n        const dt = startOfMonth(month);\n        return { dt, monthYearString };\n      });\n        \n      this.deliveryMonths = result.reverse();\n    },\n    handleDropdownChange() {\n      if(this.selectedLlf === null || this.selectedDno === null || this.selectedMonth === null)\n      {\n        return;\n      }\n\n      /*if(this.selectedDno !== null && this.selectedLlf === null)\n      {\n        const filteredData = this.llfDist.filter(item => item.distributorId === this.selectedDno);\n        this.availablellfDist = filteredData;\n        console.log(this.availablellfDist);\n      }*/\n      this.selectedFromDate = format(this.selectedMonth,'yyyy-MM-dd')\n      this.selectedToDate = format(endOfMonth(this.selectedMonth),'yyyy-MM-dd');\n      this.fetchLlfData();\n      /*todo - same filter on dno when llf is selected but dno is empty*/\n    },\n  },\n  mounted(){\n    this.fetchDnoData();\n    this.fetchLlfDistributorCombinationData();\n    this.generateDeliveryMonthArray();\n  }\n};\n</script>\n\n\n<template>\n  <Layout>\n    <PageHeader :title=\"title\" :items=\"items\" />\n    <b-row>\n        <b-row>\n          <b-col cols=\"12\">\n            <b-card no-body>\n              <b-card-body class=\"p-0\">\n \n                <b-row class=\"align-items-end\">\n                  <b-col sm=\"12\">\n                    <div class=\"p-3\">\n\n                      <div class=\"input-group\">\n                        <label class=\"input-group-text\" style=\"width:150px\" for=\"igMonth\">Delivery Month</label>\n                        <select class=\"form-select\" id=\"igMonth\" v-model=\"selectedMonth\" @change=\"handleDropdownChange\">\n                          <option v-for=\"monthYear in deliveryMonths\" :key=\"monthYear.dt\" :value=\"monthYear.dt\">{{ monthYear.monthYearString }}</option>\n                        </select>\n                      </div>\n\n                      <div class=\"input-group\">\n                        <label class=\"input-group-text\" style=\"width:150px\" for=\"igDno\">DNO</label>\n                        <select class=\"form-select\" id=\"igDno\" v-model=\"selectedDno\" @change=\"handleDropdownChange\">\n                          <option v-for=\"dno in dnoData\" :key=\"dno.id\" :value=\"dno.abbreviation\">{{ dno.description }}</option>\n                        </select>\n                      </div>\n\n                      <div class=\"input-group\">\n                        <label class=\"input-group-text\" style=\"width:150px\" for=\"igLlf\">LLFC</label>\n                        <select class=\"form-select\" id=\"igLlf\" v-model=\"selectedLlf\" @change=\"handleDropdownChange\">\n                          <option v-for=\"x in availablellfDist\" :key=\"x.llf\" :value=\"x.llf\">{{ x.llf }}</option>\n                        </select>\n                      </div>\n                      <div v-if=\"areAllDropdownsPopulated\">\n                        <div class=\"mt-3 table-hscroll\">\n                          <table class=\"table table-nowrap table-hover\">\n                            <thead>\n                                <tr>\n                                  <th scope=\"col\">Date</th>\n                                    <!-- Generate columns up to 50 -->\n                                    <template v-for=\"column in 50\" :key=\"column\">\n                                      <th scope=\"col\" >{{ column }}</th>\n                                    </template>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <!-- Generate rows for each day of the month -->\n                                <template v-for=\"item in llfData\" :key=\"item.settlementDate\">\n                                  <tr>\n                                    <th scope=\"row\">\n                                      {{new Date(item.settlementDate).toLocaleDateString(\"en-GB\")}}\n                                    </th>\n                                    <td v-for=\"(value, index) in 50\" :key=\"index\">{{ item['_' + (index + 1)] }}</td>\n                                  </tr>\n                                </template>\n                            </tbody>\n                          </table>\n                        </div>\n                      </div>\n                      <div v-else class=\"centered-children-200\">\n                        <p>No Data Available</p>\n                      </div>\n                    </div>\n                  </b-col>\n                  <b-col sm=\"4\">\n                  </b-col>\n                </b-row>\n              </b-card-body>\n            </b-card>\n          </b-col>\n        </b-row>\n    </b-row>\n  </Layout>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=3783b5b2\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dplant\\\\Downloads\\\\Velzon_v3.0.0\\\\Vue\\\\corporate\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","for","scope","_hoisted_17","_createBlock","_component_Layout","_createVNode","_component_PageHeader","title","$data","items","_component_b_row","_component_b_col","cols","_component_b_card","_component_b_card_body","sm","_hoisted_1","_hoisted_2","_hoisted_3","id","onChange","$options","_createElementBlock","_Fragment","monthYear","key","dt","value","monthYearString","_hoisted_5","_hoisted_6","dno","abbreviation","description","_hoisted_8","_hoisted_9","x","llf","_hoisted_12","_hoisted_13","_hoisted_14","column","item","settlementDate","_hoisted_15","Date","toLocaleDateString","index","_hoisted_16","page","meta","name","content","appConfig","data","llfData","dnoData","llfDist","availablellfDist","deliveryMonths","selectedMonth","selectedFromDate","selectedToDate","selectedDno","selectedLlf","text","href","active","components","Layout","PageHeader","computed","areAllDropdownsPopulated","this","length","methods","async","url","response","axios","error","console","generateDeliveryMonthArray","currentDate","sixYearsAgo","subYears","allMonths","eachMonthOfInterval","start","end","result","map","month","format","startOfMonth","reverse","handleDropdownChange","endOfMonth","fetchLlfData","mounted","fetchDnoData","fetchLlfDistributorCombinationData","__exports__","render"],"sourceRoot":""}