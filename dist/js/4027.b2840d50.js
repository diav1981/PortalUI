"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[4027],{54027:function(e,t,l){l.r(t),l.d(t,{default:function(){return V}});var a=l(66252),n=l(56612),o=l(58061);const s={class:"p-3"},i={class:"input-group"},r=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igMonth"},"Delivery Month",-1),d=["value"],c={class:"input-group"},h=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igDno"},"DNO",-1),u=["value"],D={class:"input-group"},p=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igLlf"},"LLFC",-1),f=["value"],g={key:0},w={class:"mt-3 table-hscroll"},y={class:"table table-nowrap table-hover"},m=(0,a._)("th",{scope:"col"},"Date",-1),v={scope:"row"},_={key:1,class:"centered-children-200"},b=(0,a._)("p",null,"No Data Available",-1),L=[b];function M(e,t,l,b,M,C){const k=(0,a.up)("PageHeader"),x=(0,a.up)("b-col"),F=(0,a.up)("b-row"),Z=(0,a.up)("b-card-body"),z=(0,a.up)("b-card"),W=(0,a.up)("Layout");return(0,a.wg)(),(0,a.j4)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{title:M.title,items:M.items},null,8,["title","items"]),(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{class:"p-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(F,{class:"align-items-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{sm:"12"},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a._)("div",i,[r,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igMonth","onUpdate:modelValue":t[0]||(t[0]=e=>M.selectedMonth=e),onChange:t[1]||(t[1]=(...e)=>C.handleDropdownChange&&C.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.deliveryMonths,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.dt,value:e.dt},(0,n.zw)(e.monthYearString),9,d)))),128))],544),[[o.bM,M.selectedMonth]])]),(0,a._)("div",c,[h,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igDno","onUpdate:modelValue":t[2]||(t[2]=e=>M.selectedDno=e),onChange:t[3]||(t[3]=(...e)=>C.handleDropdownChange&&C.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.dnoData,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.abbreviation},(0,n.zw)(e.description),9,u)))),128))],544),[[o.bM,M.selectedDno]])]),(0,a._)("div",D,[p,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igLlf","onUpdate:modelValue":t[4]||(t[4]=e=>M.selectedLlf=e),onChange:t[5]||(t[5]=(...e)=>C.handleDropdownChange&&C.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.availablellfDist,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.llf,value:e.llf},(0,n.zw)(e.llf),9,f)))),128))],544),[[o.bM,M.selectedLlf]])]),C.areAllDropdownsPopulated?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",w,[(0,a._)("table",y,[(0,a._)("thead",null,[(0,a._)("tr",null,[m,((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,(e=>(0,a._)("th",{key:e,scope:"col"},(0,n.zw)(e),1))),64))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.llfData,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.settlementDate},[(0,a._)("th",v,(0,n.zw)(new Date(e.settlementDate).toLocaleDateString("en-GB")),1),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,((t,l)=>(0,a._)("td",{key:l},(0,n.zw)(e["_"+(l+1)]),1))),64))])))),128))])])])])):((0,a.wg)(),(0,a.iD)("div",_,L))])])),_:1}),(0,a.Wm)(x,{sm:"4"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var C=l(80701),k=l(39880),x=l(84433),F=l(6154),Z=l(25471),z=l(46255),W=l(56794),A=l(43703),H=l(4135),P={page:{title:"Line Loss Factors",meta:[{name:"description",content:x.WL}]},data(){return{title:"Line Loss Factors",llfData:null,dnoData:null,llfDist:null,availablellfDist:null,deliveryMonths:[],selectedMonth:null,selectedFromDate:null,selectedToDate:null,selectedDno:null,selectedLlf:null,items:[{text:"Industry Flows",href:"/"},{text:"Line Loss Factors",active:!0}]}},components:{Layout:C.Z,PageHeader:k.Z},computed:{areAllDropdownsPopulated(){return!!this.llfData&&this.llfData.length>0}},methods:{async fetchLlfDistributorCombinationData(){const e="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/Llf/";try{const t=await F.Z.get(e);this.llfDist=t.data,this.availablellfDist=this.llfDist}catch(t){console.error("Error fetching LLF Distributor Combination data:",t)}},async fetchLlfData(){const e=`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/Llf/GetLlfPivot/${this.selectedDno}/${this.selectedLlf}/${this.selectedFromDate}/${this.selectedToDate}`;try{const t=await F.Z.get(e);this.llfData=t.data}catch(t){console.error("Error fetching LLF data:",t)}},async fetchDnoData(){const e="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/dno";try{const t=await F.Z.get(e);this.dnoData=t.data}catch(t){console.error("Error fetching Dno data:",t)}},generateDeliveryMonthArray(){const e=new Date,t=(0,Z.Z)(e,6),l=(0,z.Z)({start:t,end:e}),a=l.map((e=>{const t=(0,W.Z)(e,"MMMM yyyy"),l=(0,A.Z)(e);return{dt:l,monthYearString:t}}));this.deliveryMonths=a.reverse()},handleDropdownChange(){null!==this.selectedLlf&&null!==this.selectedDno&&null!==this.selectedMonth&&(this.selectedFromDate=(0,W.Z)(this.selectedMonth,"yyyy-MM-dd"),this.selectedToDate=(0,W.Z)((0,H.Z)(this.selectedMonth),"yyyy-MM-dd"),this.fetchLlfData())}},mounted(){this.fetchDnoData(),this.fetchLlfDistributorCombinationData(),this.generateDeliveryMonthArray()}},Y=l(83744);const K=(0,Y.Z)(P,[["render",M]]);var V=K}}]);
//# sourceMappingURL=4027.b2840d50.js.map