"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[5173],{85173:function(e,t,l){l.r(t),l.d(t,{default:function(){return P}});var a=l(66252),n=l(56612),o=l(58061);const s={class:"input-group"},r=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igMonth"},"Delivery Month",-1),c=["value"],i={class:"input-group"},d=(0,a._)("label",{class:"input-group-text",style:{width:"150px"},for:"igSettlementRun"},"Settlement Run",-1),u=["value"],h={class:"p-3"},p={key:0},m={class:"mt-3 table-hscroll"},g={class:"table table-nowrap table-hover"},w=(0,a._)("th",{scope:"col"},"Date",-1),D={scope:"row"},y={key:1,class:"centered-children-200"},f=(0,a._)("p",null,"No Data Available",-1),R=[f];function _(e,t,l,f,_,v){const M=(0,a.up)("PageHeader"),C=(0,a.up)("b-col"),b=(0,a.up)("b-row"),S=(0,a.up)("b-card-body"),k=(0,a.up)("b-card"),x=(0,a.up)("Layout");return(0,a.wg)(),(0,a.j4)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(M,{title:_.title,items:_.items},null,8,["title","items"]),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{class:"p-0"},{default:(0,a.w5)((()=>[(0,a._)("div",s,[r,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igMonth","onUpdate:modelValue":t[0]||(t[0]=e=>_.selectedMonth=e),onChange:t[1]||(t[1]=(...e)=>v.handleDropdownChange&&v.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.deliveryMonths,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.dt,value:e.dt},(0,n.zw)(e.monthYearString),9,c)))),128))],544),[[o.bM,_.selectedMonth]])]),(0,a._)("div",i,[d,(0,a.wy)((0,a._)("select",{class:"form-select",id:"igSettlementRun","onUpdate:modelValue":t[2]||(t[2]=e=>_.selectedSettlementRun=e),onChange:t[3]||(t[3]=(...e)=>v.handleDropdownChange&&v.handleDropdownChange(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.settlementRunList,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.settlementRunType,value:e.settlementRunType},(0,n.zw)(e.description),9,u)))),128))],544),[[o.bM,_.selectedSettlementRun]])]),(0,a.Wm)(b,{class:"align-items-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{sm:"12"},{default:(0,a.w5)((()=>[(0,a._)("div",h,[v.hasData?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",m,[(0,a._)("table",g,[(0,a._)("thead",null,[(0,a._)("tr",null,[w,((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,(e=>(0,a._)("th",{key:e,scope:"col"},(0,n.zw)(e),1))),64))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.rcrcData,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.settlementDate},[(0,a._)("th",D,(0,n.zw)(new Date(e.settlementDate).toLocaleDateString("en-GB")),1),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(50,((t,l)=>(0,a._)("td",{key:l},(0,n.zw)(e["_"+(l+1)]),1))),64))])))),128))])])])])):((0,a.wg)(),(0,a.iD)("div",y,R))])])),_:1}),(0,a.Wm)(C,{sm:"4"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var v=l(80701),M=l(39880),C=l(84433),b=l(25471),S=l(46255),k=l(56794),x=l(43703),Z=l(4135),z=l(6154),W={page:{title:"Residual Cashflow Reallocation Cashflow (RCRC)",meta:[{name:"description",content:C.WL}]},data(){return{title:"Residual Cashflow Reallocation Cashflow (RCRC)",items:[{text:"Industry Pricing",href:"/"},{text:"Auto",href:"/"},{text:"Residual Cashflow Reallocation Cashflow (RCRC)",active:!0}],deliveryMonths:[],selectedMonthType:null,selectedMonth:null,selectedFromDate:null,selectedToDate:null,settlementRunList:null,selectedSettlementRun:null,rcrcData:null}},components:{Layout:v.Z,PageHeader:M.Z},computed:{hasData(){return!!this.rcrcData&&this.rcrcData.length>0}},methods:{async fetchRcrcData(){console.log("fetching data");var e="";e="LA"==this.selectedSettlementRun?`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/rcrc/GetRcrcPivot/Latest/${this.selectedFromDate}/${this.selectedToDate}`:`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/rcrc/GetRcrcPivot/${this.selectedSettlementRun}/${this.selectedFromDate}/${this.selectedToDate}`,console.log(e);try{const t=await z.Z.get(e);this.rcrcData=t.data,console.log(this.rcrcData)}catch(t){console.error("Error fetching rcrc data:",t)}},generateDeliveryMonthArray(){const e=new Date,t=(0,b.Z)(e,6),l=(0,S.Z)({start:t,end:e}),a=l.map((e=>{const t=(0,k.Z)(e,"MMMM yyyy"),l=(0,x.Z)(e);return{dt:l,monthYearString:t}}));this.deliveryMonths=a.reverse()},async fetchSettlementRunData(){const e="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/settlementrun/";try{const t=await z.Z.get(e);this.settlementRunList=t.data}catch(t){console.error("Error fetching Settlement Run data:",t)}},handleDropdownChange(){null!==this.selectedSettlementRun&&null!==this.selectedMonth&&(this.selectedFromDate=(0,k.Z)(this.selectedMonth,"yyyy-MM-dd"),this.selectedToDate=(0,k.Z)((0,Z.Z)(this.selectedMonth),"yyyy-MM-dd"),this.fetchRcrcData())}},mounted(){this.fetchSettlementRunData(),this.generateDeliveryMonthArray()}},L=l(83744);const A=(0,L.Z)(W,[["render",_]]);var P=A}}]);
//# sourceMappingURL=5173.0963f64d.js.map