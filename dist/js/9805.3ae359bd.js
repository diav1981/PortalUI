"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[9805],{29805:function(t,e,a){a.r(e),a.d(e,{default:function(){return rt}});var l=a(66252),n=a(56612),s=a(58061);const o={class:"input-group"},i=(0,l._)("label",{class:"input-group-text",style:{width:"150px"},for:"igMonth"},"Delivery Month",-1),c=["value"],r={class:"input-group"},p=(0,l._)("label",{class:"input-group-text",style:{width:"150px"},for:"igMpan"},"MPAN",-1),d=["value"],h={class:"input-group"},u=(0,l._)("label",{class:"input-group-text",style:{width:"150px"},for:"igSettlementRun"},"Settlement Run",-1),g=["value"],D={class:"nav nav-tabs mb-3",role:"tablist"},m={class:"nav-item"},w={class:"nav-item"},b={class:"nav-item"},_={class:"tab-content text-muted"},y={class:"tab-pane",id:"msp",role:"tabpanel"},v={class:"p-3"},f={key:0},M={class:"mt-3 table-hscroll"},k={class:"table table-nowrap table-hover"},C=(0,l._)("th",{scope:"col"},"Date",-1),S={scope:"row"},x={key:1,class:"centered-children-200"},z=(0,l._)("p",null,"No Data Available",-1),W=[z],P={class:"tab-pane active",id:"gsp",role:"tabpanel"},R={class:"p-3"},Z={key:0},G={class:"mt-3 table-hscroll"},H={class:"table table-nowrap table-hover"},Y=(0,l._)("th",{scope:"col"},"Date",-1),K={scope:"row"},L={key:1,class:"centered-children-200"},N=(0,l._)("p",null,"No Data Available",-1),A=[N],B={class:"tab-pane active",id:"nbp",role:"tabpanel"},F={class:"p-3"},$={key:0},V={class:"mt-3 table-hscroll"},T={class:"table table-nowrap table-hover"},U=(0,l._)("th",{scope:"col"},"Date",-1),E={scope:"row"},j={key:1,class:"centered-children-200"},I=(0,l._)("p",null,"No Data Available",-1),q=[I];function J(t,e,a,z,N,I){const J=(0,l.up)("PageHeader"),O=(0,l.up)("b-link"),Q=(0,l.up)("b-col"),X=(0,l.up)("b-row"),tt=(0,l.up)("b-card-body"),et=(0,l.up)("b-card"),at=(0,l.up)("Layout");return(0,l.wg)(),(0,l.j4)(at,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J,{title:N.title,items:N.items},null,8,["title","items"]),(0,l.Wm)(X,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(et,{"no-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(tt,{class:"p-0"},{default:(0,l.w5)((()=>[(0,l._)("div",o,[i,(0,l.wy)((0,l._)("select",{class:"form-select",id:"igMonth","onUpdate:modelValue":e[0]||(e[0]=t=>N.selectedMonth=t),onChange:e[1]||(e[1]=(...t)=>I.handleDropdownChange&&I.handleDropdownChange(...t))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.deliveryMonths,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t.dt,value:t.dt},(0,n.zw)(t.monthYearString),9,c)))),128))],544),[[s.bM,N.selectedMonth]])]),(0,l._)("div",r,[p,(0,l.wy)((0,l._)("select",{class:"form-select",id:"igMpan","onUpdate:modelValue":e[2]||(e[2]=t=>N.selectedMpan=t),onChange:e[3]||(e[3]=(...t)=>I.handleDropdownChange&&I.handleDropdownChange(...t))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.mpanList,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t.mpanCore,value:t.mpanCore},(0,n.zw)(t.mpanCore),9,d)))),128))],544),[[s.bM,N.selectedMpan]])]),(0,l._)("div",h,[u,(0,l.wy)((0,l._)("select",{class:"form-select",id:"igSettlementRun","onUpdate:modelValue":e[4]||(e[4]=t=>N.selectedSettlementRun=t),onChange:e[5]||(e[5]=(...t)=>I.handleDropdownChange&&I.handleDropdownChange(...t))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.settlementRunList,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t.settlementRunType,value:t.settlementRunType},(0,n.zw)(t.description),9,g)))),128))],544),[[s.bM,N.selectedSettlementRun]])]),(0,l._)("ul",D,[(0,l._)("li",m,[(0,l.Wm)(O,{class:"nav-link active","data-bs-toggle":"tab",href:"#msp",role:"tab","aria-selected":"true"},{default:(0,l.w5)((()=>[(0,l.Uk)(" MSP ")])),_:1})]),(0,l._)("li",w,[(0,l.Wm)(O,{class:"nav-link","data-bs-toggle":"tab",href:"#gsp",role:"tab","aria-selected":"false"},{default:(0,l.w5)((()=>[(0,l.Uk)(" GSP ")])),_:1})]),(0,l._)("li",b,[(0,l.Wm)(O,{class:"nav-link","data-bs-toggle":"tab",href:"#nbp",role:"tab","aria-selected":"false"},{default:(0,l.w5)((()=>[(0,l.Uk)(" NBP ")])),_:1})])]),(0,l._)("div",_,[(0,l._)("div",y,[(0,l.Wm)(X,{class:"align-items-end"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{sm:"12"},{default:(0,l.w5)((()=>[(0,l._)("div",v,[I.hasMspData?((0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("div",M,[(0,l._)("table",k,[(0,l._)("thead",null,[(0,l._)("tr",null,[C,((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(50,(t=>(0,l._)("th",{key:t,scope:"col"},(0,n.zw)(t),1))),64))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.mspData,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.BillableDate},[(0,l._)("th",S,(0,n.zw)(new Date(t.BillableDate).toLocaleDateString("en-GB")),1),((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(50,((e,a)=>(0,l._)("td",{key:a},(0,n.zw)(t["_"+(a+1)]),1))),64))])))),128))])])])])):((0,l.wg)(),(0,l.iD)("div",x,W))])])),_:1}),(0,l.Wm)(Q,{sm:"4"})])),_:1})]),(0,l._)("div",P,[(0,l.Wm)(X,{class:"align-items-end"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{sm:"12"},{default:(0,l.w5)((()=>[(0,l._)("div",R,[I.hasGspData?((0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("div",G,[(0,l._)("table",H,[(0,l._)("thead",null,[(0,l._)("tr",null,[Y,((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(50,(t=>(0,l._)("th",{key:t,scope:"col"},(0,n.zw)(t),1))),64))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.gspData,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.billableDate},[(0,l._)("th",K,(0,n.zw)(new Date(t.billableDate).toLocaleDateString("en-GB")),1),((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(50,((e,a)=>(0,l._)("td",{key:a},(0,n.zw)(t["_"+(a+1)]),1))),64))])))),128))])])])])):((0,l.wg)(),(0,l.iD)("div",L,A))])])),_:1}),(0,l.Wm)(Q,{sm:"4"})])),_:1})]),(0,l._)("div",B,[(0,l.Wm)(X,{class:"align-items-end"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{sm:"12"},{default:(0,l.w5)((()=>[(0,l._)("div",F,[I.hasNbpData?((0,l.wg)(),(0,l.iD)("div",$,[(0,l._)("div",V,[(0,l._)("table",T,[(0,l._)("thead",null,[(0,l._)("tr",null,[U,((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(50,(t=>(0,l._)("th",{key:t,scope:"col"},(0,n.zw)(t),1))),64))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.nbpData,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.billableDate},[(0,l._)("th",E,(0,n.zw)(new Date(t.billableDate).toLocaleDateString("en-GB")),1),((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(50,((e,a)=>(0,l._)("td",{key:a},(0,n.zw)(t["_"+(a+1)]),1))),64))])))),128))])])])])):((0,l.wg)(),(0,l.iD)("div",j,q))])])),_:1}),(0,l.Wm)(Q,{sm:"4"})])),_:1})])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var O=a(80701),Q=a(39880),X=a(84433),tt=a(6154),et=a(25471),at=a(46255),lt=a(56794),nt=a(43703),st=a(4135),ot={page:{title:"Billable Consumption",meta:[{name:"description",content:X.WL}]},data(){return{title:"Billable Consumption",items:[{text:"Industry Flows",href:"/"},{text:"Billable Consumption",active:!0}],deliveryMonths:null,selectedMonth:null,mpanList:null,selectedMpan:null,settlementRunList:null,selectedSettlementRun:null,gspData:null,mspData:null,nbpData:null}},components:{Layout:O.Z,PageHeader:Q.Z},computed:{hasGspData(){return!!this.gspData&&this.gspData.length>0},hasMspData(){return!!this.mspData&&this.mspData.length>0},hasNbpData(){return!!this.nbpData&&this.nbpData.length>0}},methods:{async fetchGspData(){const t=`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/GspCons/GetGspConsPivot/${this.selectedMpan}/${this.selectedFromDate}/${this.selectedToDate}`;try{const e=await tt.Z.get(t);this.gspData=e.data,console.log(this.gspData)}catch(e){console.error("Error fetching GSP data:",e)}},async fetchMspData(){console.log("fetching msp");const t=`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/MspCons/GetMspConsPivot/${this.selectedMpan}/${this.selectedFromDate}/${this.selectedToDate}`;console.log(t);try{const e=await tt.Z.get(t);this.mspData=e.data,console.log(this.mspData)}catch(e){console.error("Error fetching MSP data:",e)}},async fetchNbpData(){console.log("fetching nbp");const t=`http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/NbpCons/GetNbpConsPivot/${this.selectedMpan}/${this.selectedSettlementRun}/${this.selectedFromDate}/${this.selectedToDate}`;console.log(t);try{const e=await tt.Z.get(t);this.nbpData=e.data,console.log(this.nbpData)}catch(e){console.error("Error fetching NBP data:",e)}},async fetchSettlementRunData(){const t="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/settlementrun/";try{const e=await tt.Z.get(t);this.settlementRunList=e.data}catch(e){console.error("Error fetching Settlement Run data:",e)}},async fetchMpanData(){const t="http://gedv-rtpsfc.gazpromuk.intra:19081/DV_FlexPortalApi/flexportal_api/mpan/";try{const e=await tt.Z.get(t);this.mpanList=e.data}catch(e){console.error("Error fetching Mpan data:",e)}},generateDeliveryMonthArray(){const t=new Date,e=(0,et.Z)(t,6),a=(0,at.Z)({start:e,end:t}),l=a.map((t=>{const e=(0,lt.Z)(t,"MMMM yyyy"),a=(0,nt.Z)(t);return{dt:a,monthYearString:e}}));this.deliveryMonths=l.reverse()},handleDropdownChange(){null!==this.selectedMonth&&(this.selectedFromDate=(0,lt.Z)(this.selectedMonth,"yyyy-MM-dd"),this.selectedToDate=(0,lt.Z)((0,st.Z)(this.selectedMonth),"yyyy-MM-dd"),null!==this.selectedMpan&&(this.fetchGspData(),this.fetchMspData()),null!==this.selectedSettlementRun&&this.fetchNbpData())}},mounted(){this.fetchMpanData(),this.fetchSettlementRunData(),this.generateDeliveryMonthArray()}},it=a(83744);const ct=(0,it.Z)(ot,[["render",J]]);var rt=ct}}]);
//# sourceMappingURL=9805.3ae359bd.js.map